// =============================================================================// CDeleteList.h                      ©1996-2002, Sacred Tree Software, inc.// // CDeleteList contains routines and objects needed for a list of deleted// records for a database management system.//// version 1.5.8//// created:   1/28/96, ERZ// modified:  5/30/96, ERZ  Got rid of gLongComp global which was causing crashes// modified:  7/24/96, ERZ	Ver 1.5, cross platform handles// modified:  5/27/02, ERZ  v1.5.8, converted to bool from MacOS Boolean, removed class typedefs//// =============================================================================#ifndef CDELETELIST_H_INCLUDED#define CDELETELIST_H_INCLUDED#include "DatabaseTypes.h"#if DB_V15  #include "handle.h"#endif#include <LArray.h>#include <LComparator.h>#define kSlotSizeSlop	16L			// extra bytes allowed in slot in matching sizes#ifdef __MWERKS__#pragma options align=mac68k#endiftypedef struct DeleteListEntryT {	SInt32	slotSize;	UInt32	slotPos;} DeleteListEntryT, *DeleteListEntryPtr, **DeleteListEntryHnd, **DeleteListEntryHdl;#ifdef __MWERKS__#pragma options align=reset#endifclass CDeleteList : public LArray {public:			CDeleteList(bool inTrackRecSize = true);	#if DB_V15			CDeleteList(handle inListData, bool inTrackRecSize = true);	#else    #if ( defined( PLATFORM_MACOS ) || defined( PLATFORM_MACOSX )) && ! defined( __PORTABLE_POWER_PLANT__)			CDeleteList(Handle inListData, bool inTrackRecSize = true);    #else			CDeleteList(char* inListData, size_t inListDataSize, bool inTrackRecSize = true);    #endif // PLATFORM_MACOS	#endif // DB_V15	// general purpose data access methods	UInt32		FindDeletedSlot(SInt32 inNeededSlotSize = 0);	void		SlotWasDeleted(UInt32 inSlotPos, SInt32 inSlotSize = 0);// methods used for integrity validation	bool        CheckDeletedSlot(UInt32 inSlotPos, SInt32 inSlotSize = 0);	bool        FindFirstDeletedSlotFromDatabasePos(UInt32 inStartPos, UInt32 &outFoundSlotPos);protected:	bool		mTrackRecSize;};#endif // CDELETELIST_H_INCLUDED